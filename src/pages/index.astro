---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';
import LinkItem from '../components/LinkItem.astro';
import ActivityItem from '../components/ActivityItem.astro';
import ThemeToggle from '../components/ThemeToggle.astro';
import PhotoGrid from '../components/PhotoGrid';
---

<Layout title="James Keane">
	<main class="relative min-h-screen bg-bg-light dark:bg-bg-dark">
		{/* Offline Grid Layer - Fixed Full Screen Scrollable */}
		<div id="offline-grid" class="hide-scrollbar fixed inset-0 h-screen overflow-y-auto z-20 bg-bg-light dark:bg-bg-dark opacity-0 pointer-events-none transition-opacity duration-1000">
			<div class="pt-32 pb-24 px-6 md:px-12 max-w-[100rem] mx-auto">
				<PhotoGrid client:only="react" />
			</div>
		</div>

		{/* Main Content Layer - Fixed Full Screen Scrollable */}
		<div id="main-content" class="hide-scrollbar fixed inset-0 h-screen overflow-y-auto z-10 transition-opacity duration-500">
			<div class="min-h-screen max-w-3xl mx-auto px-6 py-12 md:py-24">
				<Hero />
			{/* ... rest of content ... */}


			<Section title="Career">
				<LinkItem 
					title="Founding Engineer — Unify AI" 
					href="https://unify.ai" 
					external={true}
					description="Building the future of agentic workflows. YC W23."
					date="2022 — 2026"
				/>
			</Section>

			<Section title="Projects">
				<LinkItem 
					title="The Briefing" 
					href="https://realpolitikworld.substack.com/" 
					github="https://github.com/iamjameskeane/the-briefing"
					external={true}
					description="A multi-agent editorial pipeline that transforms raw event streams into structured intelligence analysis."
					date="2026"
				/>
				<LinkItem 
					title="Realpolitik" 
					href="https://realpolitik.world" 
					github="https://github.com/iamjameskeane/realpolitik"
					writeup="https://dev.to/iamjameskeane/i-built-a-geopolitical-war-room-while-high-on-morphine-and-then-actually-shipped-it-ed2"
					external={true}
					description="A real-time geopolitical event monitoring dashboard with a 3D interactive globe and AI analysis."
					date="2025"
				/>
				<LinkItem 
					title="Ivy" 
					href="https://ivy-llc.github.io/docs/" 
					github="https://github.com/ivy-llc/ivy"
					external={true}
					description="An open-source machine learning framework and transpiler for PyTorch, TensorFlow, JAX, and NumPy."
					date="2022 — 2023"
				/>
			</Section>

			<Section title="Expeditions">
				<ActivityItem 
					title="Annapurna Circuit"
					titleHref="https://en.wikipedia.org/wiki/Annapurna_Circuit"
					location="Nepal"
					coordinates="28.7936° N, 83.8706° E"
					coordinatesHref="https://www.google.com/maps/place/28.7936,83.8706"
					description="A 160km Himalayan trek culminating in the crossing of the Thorong La pass at 5,416m."
					date="2025"
				/>
				<ActivityItem 
					title="Northern Japanese Alps"
					titleHref="https://en.wikipedia.org/wiki/Hida_Mountains"
					location="Japan"
					coordinates="36.2892° N, 137.6481° E"
					coordinatesHref="https://www.google.com/maps/place/36.2892,137.6481"
					description="A highly technical alpine ridge traverse summiting Mount Okuhotaka (3,190m) and the Gendarme."
					date="2025"
				/>
				<ActivityItem 
					title="Tour du Mont Blanc"
					titleHref="https://en.wikipedia.org/wiki/Tour_du_Mont_Blanc"
					location="FRA, ITA, SUI"
					coordinates="45.8328° N, 6.8647° E"
					coordinatesHref="https://www.google.com/maps/place/45.8328,6.8647"
					description="A 170km alpine circuit featuring over 10,000m of cumulative elevation gain."
					date="2024"
				/>
				<ActivityItem 
					title="Coast to Coast"
					titleHref="https://en.wikipedia.org/wiki/Pico_Ruivo"
					location="Madeira"
					coordinates="32.7586° N, 16.9422° W"
					coordinatesHref="https://www.google.com/maps/place/32.7586,-16.9422"
					description="A multi-day island crossing navigating steep volcanic ridge lines and dense alpine forests."
					date="2024"
				/>
				<ActivityItem 
					title="The Mourne Wall"
					titleHref="https://en.wikipedia.org/wiki/Mourne_Wall"
					location="Ireland"
					coordinates="54.1802° N, 5.9208° W"
					coordinatesHref="https://www.google.com/maps/place/54.1802,-5.9208"
					description="A continuous 35km single-day endurance route summiting 15 peaks across the range."
					date="2024"
				/>
			</Section>

			<Section title="Dives">
				<ActivityItem 
					title="USAT Liberty Wreck"
					titleHref="https://www.padi.com/dive-site/indonesia/usat-liberty-shipwreck/"
					location="Bali, Indonesia"
					coordinates="8.2753° S, 115.5906° E"
					coordinatesHref="https://www.google.com/maps/place/-8.2753,115.5906"
					description="A 120-meter WWII shipwreck dive featuring structural swim-throughs and dense marine life."
					date="2025"
				/>
				<ActivityItem 
					title="Komodo National Park"
					titleHref="https://www.padi.com/dive-site/indonesia/manta-point-komodo/"
					location="Flores Sea, Indonesia"
					coordinates="8.5333° S, 119.4500° E"
					coordinatesHref="https://www.google.com/maps/place/-8.5333,119.4500"
					description="High-current drift dives navigating underwater pinnacles and pelagic drift zones."
					date="2025"
				/>
				<ActivityItem 
					title="Manta Point"
					titleHref="https://www.padi.com/dive-site/indonesia/manta-point-3/"
					location="Nusa Penida, Indonesia"
					coordinates="8.7844° S, 115.5135° E"
					coordinatesHref="https://www.google.com/maps/place/-8.7844,115.5135"
					description="Open ocean cleaning station dives focusing on large pelagic species encounters."
					date="2025"
				/>
				<ActivityItem 
					title="Koh Tao Archipelago"
					titleHref="https://www.padi.com/dive-site/thailand/htms-suphairin/"
					location="Gulf of Thailand"
					coordinates="10.0956° N, 99.8390° E"
					coordinatesHref="https://www.google.com/maps/place/10.0956,99.8390"
					description="Advanced deep-water and navigational training across multiple reef sites."
					date="2025"
				/>
			</Section>

			<Section title="Education">
				<LinkItem 
					title="BSc Artificial Intelligence — University of Edinburgh" 
					href="https://www.ed.ac.uk/" 
					description="Upper Second Class Honours (2.1)."
					date="2019 — 2023"
				/>
			</Section>

			<Section title="Reading">
				<LinkItem 
					title="Designing Data-Intensive Applications"
					subtext="Martin Kleppmann" 
					description="Foundational principles of distributed systems, database architecture, and data pipelines."
					date="2026"
				/>
				<LinkItem 
					title="Designing Machine Learning Systems"
					subtext="Chip Huyen" 
					description="An iterative framework for framing, building, and deploying reliable ML models in production."
					date="2022"
				/>
				<LinkItem 
					title="AI Engineering"
					subtext="Chip Huyen" 
					description="Architectural patterns and best practices for building robust applications with foundation models."
					date="2025"
				/>
				<LinkItem 
					title="The Mom Test"
					subtext="Rob Fitzpatrick" 
					description="A practical guide to customer extraction, avoiding bad data, and identifying true user intent."
					date="2013"
				/>
			</Section>


			<Section title="Connect">
				<div class="flex flex-wrap gap-x-6 gap-y-2 font-sans text-sm">
					<a href="mailto:jameskeane508@gmail.com" class="brandur-link font-medium">Email</a>
					<a href="https://x.com/iamjameskeane" class="brandur-link font-medium">X</a>
					<a href="https://github.com/iamjameskeane" class="brandur-link font-medium">GitHub</a>
					<a href="https://strava.com/athletes/39388868" class="brandur-link font-medium">Strava</a>
					<a href="https://linkedin.com/in/iamjameskeane" class="brandur-link font-medium">LinkedIn</a>
					<a href="https://instagram.com/iamjameskeane" class="brandur-link font-medium">Instagram</a>
				</div>
			</Section>

			<footer class="mt-24 pt-8 border-t border-[#eee] dark:border-[#1a1a1a] text-xs font-sans tracking-tight flex justify-between items-center text-[#999] dark:text-[#555]">
				<p>&copy; {new Date().getFullYear()} James Keane.</p>
				<ThemeToggle />
			</footer>
			</div>
		</div>
	</main>

	<script>
		import { isOffline } from '../stores/offline';

		const mainContent = document.getElementById('main-content');
		const offlineGrid = document.getElementById('offline-grid');

		// Subscribe to store changes to toggle visibility
		isOffline.subscribe(offline => {
			if (offline) {
				// Hide Main Content
				mainContent?.classList.add('opacity-0', 'pointer-events-none');
				
				// Show Photo Grid
				offlineGrid?.classList.remove('opacity-0', 'pointer-events-none');
			} else {
				// Hide Photo Grid
				offlineGrid?.classList.add('opacity-0', 'pointer-events-none');
				
				// Show Main Content
				mainContent?.classList.remove('opacity-0', 'pointer-events-none');
			}
		});
	</script>
</Layout>
